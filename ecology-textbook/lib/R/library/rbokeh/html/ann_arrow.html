<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add an &quot;arrow&quot; annotation to a Bokeh figure</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for ann_arrow {rbokeh}"><tr><td>ann_arrow {rbokeh}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add an &quot;arrow&quot; annotation to a Bokeh figure</h2>

<h3>Description</h3>

<p>Add an &quot;arrow&quot; annotation to a Bokeh figure
</p>


<h3>Usage</h3>

<pre>
ann_arrow(fig, x_start = NULL, y_start = NULL, x_end = NULL,
  y_end = NULL, color = NULL, alpha = NULL, line_width = NULL,
  data = figure_data(fig), start = NULL, start_units = NULL, end = NULL,
  end_units = NULL, line_dash = NULL, line_join = NULL,
  line_dash_offset = NULL, line_cap = NULL, lgroup = NULL, lname = NULL,
  ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>fig</code></td>
<td>
<p>Figure to modify.</p>
</td></tr>
<tr valign="top"><td><code>x_start</code></td>
<td>
<p>The x-coordinates to locate the start of the arrows.</p>
</td></tr>
<tr valign="top"><td><code>y_start</code></td>
<td>
<p>The y-coordinates to locate the start of the arrows.</p>
</td></tr>
<tr valign="top"><td><code>x_end</code></td>
<td>
<p>The x-coordinates to locate the end of the arrows.</p>
</td></tr>
<tr valign="top"><td><code>y_end</code></td>
<td>
<p>The y-coordinates to locate the end of the arrows.</p>
</td></tr>
<tr valign="top"><td><code>color</code></td>
<td>
<p>Color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo'. For glyphs with both fill and line properties, see &quot;Handling color&quot; below.</p>
</td></tr>
<tr valign="top"><td><code>alpha</code></td>
<td>
<p>The alpha transparency of the glyph between 0 (transparent) and 1 (opaque). If the glyph has both fill and color properties, see &quot;Handling alpha&quot; below.</p>
</td></tr>
<tr valign="top"><td><code>line_width</code></td>
<td>
<p>The line width values for the arrow body.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>An optional data frame supplying data to which other parameters can refer.</p>
</td></tr>
<tr valign="top"><td><code>start</code></td>
<td>
<p>Instance of ArrowHead.</p>
</td></tr>
<tr valign="top"><td><code>start_units</code></td>
<td>
<p>The unit type for the start_x and start_y attributes. Interpreted as &quot;data space&quot; units by default.</p>
</td></tr>
<tr valign="top"><td><code>end</code></td>
<td>
<p>Instance of ArrowHead.</p>
</td></tr>
<tr valign="top"><td><code>end_units</code></td>
<td>
<p>The unit type for the end_x and end_y attributes. Interpreted as &quot;data space&quot; units by default.</p>
</td></tr>
<tr valign="top"><td><code>line_dash</code></td>
<td>
<p>The line dash values for the arrow body.</p>
</td></tr>
<tr valign="top"><td><code>line_join</code></td>
<td>
<p>The line join values for the arrow body.</p>
</td></tr>
<tr valign="top"><td><code>line_dash_offset</code></td>
<td>
<p>The line dash offset values for the arrow body.</p>
</td></tr>
<tr valign="top"><td><code>line_cap</code></td>
<td>
<p>The line cap values for the arrow body.</p>
</td></tr>
<tr valign="top"><td><code>lgroup</code></td>
<td>
<p>Layer group.</p>
</td></tr>
<tr valign="top"><td><code>lname</code></td>
<td>
<p>Layer name.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>additional parameters for fine control over fill and line properties (see &quot;Additional parameters&quot; below)</p>
</td></tr>
</table>


<h3>Handling color</h3>

<p>The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
</p>

<ul>
<li><p> When using a glyph that only has line properties, this will be the color of the line.
</p>
</li>
<li><p> When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</p>
</li>
<li><p> If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</p>
</li></ul>

<p>When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>


<h3>Handling alpha</h3>

<p>The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
</p>

<ul>
<li><p> When using a glyph that only has line properties, this will be the alpha of the line.
</p>
</li>
<li><p> When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</p>
</li>
<li><p> Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</p>
</li></ul>



<h3>Additional parameters</h3>


<table summary="Rd table">
<tr>
 <td style="text-align: left;">
  <code>fill_color</code> </td><td style="text-align: left;"> color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>fill_alpha</code> </td><td style="text-align: left;"> transparency value between 0 (transparent) and 1 (opaque) </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_color</code> </td><td style="text-align: left;"> color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_width</code> </td><td style="text-align: left;"> stroke width in units of pixels </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_alpha</code> </td><td style="text-align: left;"> transparency value between 0 (transparent) and 1 (opaque) </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_join</code> </td><td style="text-align: left;"> how path segments should be joined together 'miter' 'round' 'bevel' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_cap</code> </td><td style="text-align: left;"> how path segments should be terminated 'butt' 'round' 'square' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_dash</code> </td><td style="text-align: left;"> array of integer pixel distances that describe the on-off pattern of dashing to use </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_dash_offset</code> </td><td style="text-align: left;"> the distance in pixels into the line_dash that the pattern should start from
 </td>
</tr>

</table>



<h3>See Also</h3>

<p>Other annotation functions: <code><a href="ann_band.html">ann_band</a></code>,
<code><a href="ann_box.html">ann_box</a></code>, <code><a href="ann_labels.html">ann_labels</a></code>,
<code><a href="ann_poly.html">ann_poly</a></code>, <code><a href="ann_span.html">ann_span</a></code>,
<code><a href="ann_title.html">ann_title</a></code>, <code><a href="ann_whisker.html">ann_whisker</a></code>,
<code><a href="arrow.html">arrow</a></code>
</p>


<h3>Examples</h3>

<pre>
figure() %&gt;%
  ly_points(1:10, 1:10) %&gt;%
  ann_arrow(3, 5, 4, 4)

# with different head
figure() %&gt;%
  ly_points(1:10, 1:10) %&gt;%
  ann_arrow(3, 5, 4, 4, end = "vee")

# with more specific head parameters using "arrow()"
figure() %&gt;%
  ly_points(1:10, 1:10) %&gt;%
  ann_arrow(3, 5, 4, 4, end = arrow("vee", color = "red"))

# vectorized example using a data frame of values as input
da &lt;- cbind(expand.grid(1:4, 3:8), cbind(expand.grid(2:5, 4:9)))
names(da) &lt;- c("x1", "y1", "x2", "y2")
figure() %&gt;%
  ly_points(x = 1:5, y = 3:7) %&gt;%
  ann_arrow(x1, y1, x2, y2, data = da,
    end = arrow("vee", color = "red", size = 50), start = arrow("tee", color = "red"))
</pre>

<hr /><div style="text-align: center;">[Package <em>rbokeh</em> version 0.6.3 <a href="00Index.html">Index</a>]</div>
</body></html>
