<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add a &quot;box&quot; annotation (rectangular shaded region) to a Bokeh...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for ann_box {rbokeh}"><tr><td>ann_box {rbokeh}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add a &quot;box&quot; annotation (rectangular shaded region) to a Bokeh figure</h2>

<h3>Description</h3>

<p>Add a &quot;box&quot; annotation (rectangular shaded region) to a Bokeh figure
</p>


<h3>Usage</h3>

<pre>
ann_box(fig, left = NULL, bottom = NULL, right = NULL, top = NULL,
  left_units = NULL, bottom_units = NULL, right_units = NULL,
  top_units = NULL, color = NULL, alpha = NULL, lgroup = NULL,
  lname = NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>fig</code></td>
<td>
<p>Figure to modify.</p>
</td></tr>
<tr valign="top"><td><code>left</code></td>
<td>
<p>The x-coordinates of the left edge of the box annotation. Datetime values are also accepted, but note that they are immediately converted to milliseconds-since-epoch.</p>
</td></tr>
<tr valign="top"><td><code>bottom</code></td>
<td>
<p>The y-coordinates of the bottom edge of the box annotation. Datetime values are also accepted, but note that they are immediately converted to milliseconds-since-epoch.</p>
</td></tr>
<tr valign="top"><td><code>right</code></td>
<td>
<p>The x-coordinates of the right edge of the box annotation. Datetime values are also accepted, but note that they are immediately converted to milliseconds-since-epoch.</p>
</td></tr>
<tr valign="top"><td><code>top</code></td>
<td>
<p>The y-coordinates of the top edge of the box annotation. Datetime values are also accepted, but note that they are immediately converted to milliseconds-since-epoch.</p>
</td></tr>
<tr valign="top"><td><code>left_units</code></td>
<td>
<p>The unit type for the left attribute. Interpreted as &quot;data space&quot; units by default. One of &quot;data&quot; or &quot;screen&quot;.</p>
</td></tr>
<tr valign="top"><td><code>bottom_units</code></td>
<td>
<p>The unit type for the bottom attribute. Interpreted as &quot;data space&quot; units by default. One of &quot;data&quot; or &quot;screen&quot;.</p>
</td></tr>
<tr valign="top"><td><code>right_units</code></td>
<td>
<p>The unit type for the right attribute. Interpreted as &quot;data space&quot; units by default. One of &quot;data&quot; or &quot;screen&quot;.</p>
</td></tr>
<tr valign="top"><td><code>top_units</code></td>
<td>
<p>The unit type for the top attribute. Interpreted as &quot;data space&quot; units by default. One of &quot;data&quot; or &quot;screen&quot;.</p>
</td></tr>
<tr valign="top"><td><code>color</code></td>
<td>
<p>Color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo'. For glyphs with both fill and line properties, see &quot;Handling color&quot; below.</p>
</td></tr>
<tr valign="top"><td><code>alpha</code></td>
<td>
<p>The alpha transparency of the glyph between 0 (transparent) and 1 (opaque). If the glyph has both fill and color properties, see &quot;Handling alpha&quot; below.</p>
</td></tr>
<tr valign="top"><td><code>lgroup</code></td>
<td>
<p>Layer group.</p>
</td></tr>
<tr valign="top"><td><code>lname</code></td>
<td>
<p>Layer name.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>additional parameters for fine control over fill and line properties (see &quot;Additional parameters&quot; below)</p>
</td></tr>
</table>


<h3>Handling color</h3>

<p>The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
</p>

<ul>
<li><p> When using a glyph that only has line properties, this will be the color of the line.
</p>
</li>
<li><p> When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</p>
</li>
<li><p> If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</p>
</li></ul>

<p>When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>


<h3>Handling alpha</h3>

<p>The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
</p>

<ul>
<li><p> When using a glyph that only has line properties, this will be the alpha of the line.
</p>
</li>
<li><p> When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</p>
</li>
<li><p> Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</p>
</li></ul>



<h3>Additional parameters</h3>


<table summary="Rd table">
<tr>
 <td style="text-align: left;">
  <code>fill_color</code> </td><td style="text-align: left;"> color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>fill_alpha</code> </td><td style="text-align: left;"> transparency value between 0 (transparent) and 1 (opaque) </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_color</code> </td><td style="text-align: left;"> color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g 'green', 'indigo' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_width</code> </td><td style="text-align: left;"> stroke width in units of pixels </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_alpha</code> </td><td style="text-align: left;"> transparency value between 0 (transparent) and 1 (opaque) </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_join</code> </td><td style="text-align: left;"> how path segments should be joined together 'miter' 'round' 'bevel' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_cap</code> </td><td style="text-align: left;"> how path segments should be terminated 'butt' 'round' 'square' </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_dash</code> </td><td style="text-align: left;"> array of integer pixel distances that describe the on-off pattern of dashing to use </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>line_dash_offset</code> </td><td style="text-align: left;"> the distance in pixels into the line_dash that the pattern should start from
 </td>
</tr>

</table>



<h3>See Also</h3>

<p>Other annotation functions: <code><a href="ann_arrow.html">ann_arrow</a></code>,
<code><a href="ann_band.html">ann_band</a></code>, <code><a href="ann_labels.html">ann_labels</a></code>,
<code><a href="ann_poly.html">ann_poly</a></code>, <code><a href="ann_span.html">ann_span</a></code>,
<code><a href="ann_title.html">ann_title</a></code>, <code><a href="ann_whisker.html">ann_whisker</a></code>,
<code><a href="arrow.html">arrow</a></code>
</p>


<h3>Examples</h3>

<pre>
figure(data = iris) %&gt;%
  ly_points(x = Sepal.Width, y = Sepal.Length, color = Species) %&gt;%
  ann_box(bottom = 5, color = "black")

# with screen units
figure(data = iris) %&gt;%
  ly_points(x = Sepal.Width, y = Sepal.Length, color = Species) %&gt;%
  ann_box(bottom = 540, bottom_units = "screen", color = "black")

# text annotation with box annotation and screen units to illustrate
# an inside-plot heading that doesn't move with pan/zoom
figure(data = iris) %&gt;%
  ly_points(x = Sepal.Width, y = Sepal.Length, color = Species) %&gt;%
  ann_box(bottom = 565, bottom_units = "screen", color = "black") %&gt;%
  ann_labels(200, 570, "Header", text_color = "white",
    x_units = "screen", y_units = "screen")
</pre>

<hr /><div style="text-align: center;">[Package <em>rbokeh</em> version 0.6.3 <a href="00Index.html">Index</a>]</div>
</body></html>
